(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{30:function(e,t,n){},32:function(e,t,n){},39:function(e,t){},40:function(e,t){},41:function(e,t){},57:function(e,t,n){"use strict";n.r(t);var a,r,i,c,o,s,p=n(3),u=n.n(p),d=n(14),l=n.n(d),h=(n(30),n(8)),b=n.n(h),j=n(11),m=n(6),f=(n(32),n(7)),g=n.p+"static/media/back.7a561ac1.png",x=n(4),O=n(5),v=n(2);function w(e){var t=O.a.div(a||(a=Object(x.a)(["\n    height: 260px;\n    box-sizing: border-box;\n    overflow: scroll;\n  "]))),n=O.a.div(r||(r=Object(x.a)(["\n    width: 100%;\n    height: 45px;\n    cursor: pointer;\n    color: #FFFEFE;\n    margin-left: 2rem;\n    margin-top: 1rem;\n    display: flex;\n    box-sizing: border-box;\n  "]))),p=O.a.img(i||(i=Object(x.a)(["\n    border-radius: 50%;\n    width: 40px;\n    height: 40px;\n  "]))),u=O.a.div(c||(c=Object(x.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-left: 1rem;\n    width: 100%;\n    justify-content: center;\n  "]))),d=O.a.p(o||(o=Object(x.a)(["\n    font-weight: bold;\n    font-size: 0.8rem;\n  "]))),l=O.a.p(s||(s=Object(x.a)(["\n    text-transform: uppercase;\n    font-size: 0.6rem;\n    font-weight: 300;\n  "])));return Object(v.jsx)(t,{children:e.playlist.map((function(t){return Object(v.jsxs)(n,{onClick:function(){return e.onChangeTrack(t.id)},children:[Object(v.jsx)(p,{src:t.cover,alt:"cover"}),Object(v.jsxs)(u,{children:[Object(v.jsx)(d,{children:t.title}),Object(v.jsx)(l,{children:t.author})]})]},t.id)}))})}var k,y,C,F=n(12),S=n(10);function T(e){var t=O.a.div(k||(k=Object(x.a)(["\n    position: relative;\n    height: 4px;\n    width: calc("," - 15px);\n    background-color: #c9bbdc;\n    border-radius: 5px;\n  "])),e.width||"100%"),n=O.a.div(y||(y=Object(x.a)(["\n    position: absolute;\n    left: ",";\n    top: 50%;\n    transform: translate(-50%, -50%);\n    bottom: 10px;\n    height: 8px;\n    width: 8px;\n    background-color: #7364a9;\n    border-radius: 50%;\n  "])),e.progressPercent),a=O.a.div(C||(C=Object(x.a)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 10px;\n    height: inherit;\n    width: ",";\n    background-color: #7364a9;\n    border-radius: 5px;\n  "])),e.progressPercent);return Object(v.jsxs)(t,{children:[Object(v.jsx)(n,{}),Object(v.jsx)(a,{})]})}var P,z,N,E,M,I,_,B,L,D,U=[],A=[{id:0,title:"Baila Nonstop",author:"Srilanken artist",url:"https://facedetectionappdataminning.000webhostapp.com/happybila.mp3",cover:"https://gutta.lv/wp-content/uploads/2015/10/test-img.jpg"},{id:1,title:"Baila gamuda remix krla B&S",author:"B & S",url:"\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200dhttps://facedetectionappdataminning.000webhostapp.com/happybailabns.mp3",cover:"https://gutta.lv/wp-content/uploads/2015/10/test-img.jpg"}],J=[{id:1,title:"Obe sina laga",author:"miuru sangeeth",url:"\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200dhttps://facedetectionappdataminning.000webhostapp.com/sad2obesina.mp3",cover:"https://gutta.lv/wp-content/uploads/2015/10/test-img.jpg"},{id:0,title:"Ma dase Wedna",author:"miuru sangeeth",url:"https://facedetectionappdataminning.000webhostapp.com/sad1madase.mp3",cover:"https://gutta.lv/wp-content/uploads/2015/10/test-img.jpg"},{id:1,title:"Perawadanak",author:"Sanuka wikramsinghe",url:"\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200dhttps://facedetectionappdataminning.000webhostapp.com/sad3peraw.mp3",cover:"https://gutta.lv/wp-content/uploads/2015/10/test-img.jpg"}],R=[{id:1,title:"Oba apple malak wage",author:"amarasiri peries",url:"\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200dhttps://facedetectionappdataminning.000webhostapp.com/natural1obaapple.mp3",cover:"https://gutta.lv/wp-content/uploads/2015/10/test-img.jpg"},{id:0,title:"Depiya nagala",author:"Lawan abhishek",url:"https://facedetectionappdataminning.000webhostapp.com/natural1depiyanagala.mp3",cover:"https://gutta.lv/wp-content/uploads/2015/10/test-img.jpg"},{id:1,title:"Denana thuru ma",author:"sachintha lakshan",url:"\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200dhttps://facedetectionappdataminning.000webhostapp.com/natural1denanthuru.mp3",cover:"https://gutta.lv/wp-content/uploads/2015/10/test-img.jpg"}],H=function(e){switch(e){case"neutral":U=R;break;case"happy":U=A;break;case"sad":U=J;break;default:U=R,console.log("hiiiii")}return new Promise((function(e,t){setTimeout((function(){return e(U)}),1e3)}))},W=u.a.createContext(),q=function(e){if(0===e)return"0 : 00";var t=Math.floor(e/60),n=e-60*t;return"".concat(t," : 0").concat(n)},G={cursor:"pointer",color:"#472F90"};function K(e){var t,n=Object(p.useState)(0),a=Object(m.a)(n,2),r=a[0],i=a[1],c=Object(p.useState)(0),o=Object(m.a)(c,2),s=o[0],u=o[1],d=Object(p.useState)("0"),l=Object(m.a)(d,2),h=l[0],b=l[1],j=Object(p.useState)(!1),f=Object(m.a)(j,2),g=f[0],w=f[1],k=O.a.p(P||(P=Object(x.a)(["\n    font-size: 0.65rem;\n    margin: 0 1rem;\n    color: #472f90;\n  "]))),y=O.a.div(z||(z=Object(x.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  "]))),C=function(){t.pause(),t.currentTime=0,w(!1),u(0)},N=function(){t.paused||t.ended?(t.play(),w(!0)):(t.pause(),w(!1))},E=function(){var e=Math.floor(t.duration);i(q(e))};return Object(p.useEffect)((function(){i(0),u(0),b("0"),N()}),[e.url]),Object(p.useLayoutEffect)((function(){t=document.getElementById("audioPlayer")})),Object(v.jsx)(W.Consumer,{children:function(n){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("audio",{id:"audioPlayer",preload:"metadata",onLoadedMetadata:E,onTimeUpdate:function(){return e=n.handleNextTrack,u(Math.floor(t.currentTime)),b(Math.floor(t.currentTime/t.duration*100)+"%"),void(t.currentTime===t.duration&&e());var e},children:[Object(v.jsx)("source",{src:e.url,type:"audio/ogg"}),"Ooops, your browser is sooo old."]}),Object(v.jsxs)(y,{children:[Object(v.jsx)(F.Icon,{style:G,icon:S.ic_skip_previous,onClick:n.handlePrevTrack,size:30}),Object(v.jsx)(F.Icon,{style:G,icon:g?S.ic_pause:S.ic_play_arrow,onClick:N,size:30}),Object(v.jsx)(F.Icon,{size:30,style:G,icon:S.ic_stop,onClick:C}),Object(v.jsx)(F.Icon,{style:G,icon:S.ic_skip_next,onClick:n.handleNextTrack,size:30}),Object(v.jsx)(k,{children:q(s)}),Object(v.jsx)(T,{progressPercent:h,width:"200px"}),Object(v.jsx)(k,{children:r||"0 : 00"})]})]},e.url)}})}function Q(e){var t=O.a.div(N||(N=Object(x.a)(["\n    border-radius: 5px 5px 0 0;\n    height: 240px;\n    padding: 2rem;\n    display: flex;\n    flex-wrap: wrap;\n    color: #27117c;\n    box-sizing: border-box;\n    background-image: linear-gradient(\n      to bottom,\n      #ebe6f8,\n      #ece5f6,\n      #ede4f5,\n      #eee4f3,\n      #efe3f1\n    );\n  "]))),n=O.a.img(E||(E=Object(x.a)(["\n    width: 135px;\n    height: 135px;\n    border-radius: 5px;\n    margin-right: 1rem;\n  "]))),a=O.a.div(M||(M=Object(x.a)(["\n    margin-top: 1rem;\n  "]))),r=O.a.p(I||(I=Object(x.a)(["\n    font-size: 1rem;\n    font-weight: 600;\n  "]))),i=O.a.p(_||(_=Object(x.a)(["\n    font-size: 0.8rem;\n    font-weight: 400;\n    text-transform: uppercase;\n    margin-top: 0.5rem;\n  "]))),c=O.a.div(B||(B=Object(x.a)(["\n    flex-basis: 100%;\n    margin-top: 1.5rem;\n  "])));return Object(v.jsxs)(t,{children:[Object(v.jsx)(n,{src:e.track.cover,alt:"cover"}),Object(v.jsxs)(a,{children:[Object(v.jsx)(r,{children:e.track.title}),Object(v.jsx)(i,{children:e.track.author})]}),Object(v.jsx)(c,{children:Object(v.jsx)(K,{url:e.track.url})})]})}function V(e){var t=Object(p.useState)([]),n=Object(m.a)(t,2),a=n[0],r=n[1],i=Object(p.useState)(0),c=Object(m.a)(i,2),o=c[0],s=c[1],u=O.a.div(L||(L=Object(x.a)(["\n    position: relative;\n    width: 500px;\n    height: 500px;\n    margin: 0 auto;\n    border-radius: 5px;\n    box-shadow: 0px 0px 15px -5px rgba(0, 0, 0, 0.75);\n  "]))),d=O.a.div(D||(D=Object(x.a)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  "]))),l=function(){var t=Object(j.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(">>> in player:",e.emotion),t.next=3,H(e.emotion);case 3:n=t.sent,r(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(p.useEffect)((function(){l()}),[]),0===a.length?Object(v.jsx)(u,{children:Object(v.jsx)(d,{children:"loading..."})}):Object(v.jsx)(u,{children:Object(v.jsxs)(W.Provider,{value:{handleNextTrack:function(){o!==a.length-1?s(o+1):s(0)},handlePrevTrack:function(){s(0!==o?o-1:a.length-1)}},children:[Object(v.jsx)(Q,{track:a[o]}),Object(v.jsx)(w,{onChangeTrack:function(e){s(e)},playlist:a})]})})}var X=function(){var e=Object(p.useState)(!1),t=Object(m.a)(e,2),n=t[0],a=t[1],r=Object(p.useState)(!1),i=Object(m.a)(r,2),c=i[0],o=i[1],s=Object(p.useState)(String),u=Object(m.a)(s,2),d=u[0],l=u[1],h=Object(p.useRef)(),x=Object(p.useRef)();Object(p.useEffect)((function(){(function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="/datamining/models",a(!0),Promise.all([f.f.tinyFaceDetector.loadFromUri(t),f.f.faceExpressionNet.loadFromUri(t)]).then(O);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=function(){navigator.getUserMedia({audio:!1,video:!0},(function(e){return h.current.srcObject=e}),(function(){console.warn("Error getting video stream from getUserMedia")}))},w=function(){l(window.temp),o(!0),!0},k=function(){o(!1),!1};return Object(v.jsxs)("div",{className:"App",style:{backgroundImage:"url(".concat(g,")")},children:[Object(v.jsx)("span",{children:n?"initaiallizing":"ready"}),Object(v.jsxs)("div",{className:"display-flex justify-content-center",children:[Object(v.jsx)("video",{ref:h,autoPlay:!0,muted:!0,height:640,width:480,onPlay:function(){setInterval(Object(j.a)(b.a.mark((function e(){var t,r,i,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&a(!1),x.current.innerHTML=f.b(h.current),t={width:480,height:640},f.e(x.current,t),e.next=6,f.c(h.current,new f.a).withFaceExpressions();case 6:r=e.sent,i=f.g(r,t),f.d.drawDetections(x.current,i),f.d.drawFaceExpressions(x.current,i),"undefined"!==(c=r.map((function(e){for(var t=[e.expressions.happy,e.expressions.neutral,e.expressions.sad,e.expressions.surprised,e.expressions.angry],n=Math.max.apply(Math,t),a=["happy","neutral","sad","surprised","angry"],r="",i=0;i<=t.length;i++)n===t[i]&&(r=a[i]);return r})))[0]&&(window.temp=c[0]);case 12:case"end":return e.stop()}}),e)}))),5e3)}}),Object(v.jsx)("canvas",{ref:x,className:"position-absolute"})]}),Object(v.jsx)("div",{children:c?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("card",{className:"card",children:[Object(v.jsx)("button",{style:{background:"#FC0400",width:200,height:60,color:"white"},onClick:k,children:"Click here!"}),Object(v.jsx)("h1",{color:"white",className:"headerName",children:"Catch Again my mood !!"}),Object(v.jsx)(V,{emotion:d})]})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{style:{background:"#FC0400",width:200,height:60,color:"white"},onClick:w,children:"Click here!"}),Object(v.jsx)("h1",{color:"white",className:"headerName",children:"Catch my mood !!"})]})})]})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};l.a.render(Object(v.jsx)(u.a.StrictMode,{children:Object(v.jsx)(X,{})}),document.getElementById("root")),Y()}},[[57,1,2]]]);
//# sourceMappingURL=main.2d5a5ca7.chunk.js.map